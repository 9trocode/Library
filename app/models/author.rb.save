class Author < ActiveRecord::Base
  has_many :books 
  def full_name
     "#{self.first_name} #{self.last_name}"
  end

  	validates :first_name, :presence => true
	validates :last_name, :presence => true ransacker :full_name do 
|parent|
	validates :last_name, uniqueness: { scope: :first_name } 
Arel::Nodes::InfixOperation.new('||',
	validates :first_name, format: { with: /\A[a-zA-Z]+\z/, message: 
"only allows letters" } Arel::Nodes::InfixOperation.new('||', 
parent.table[:first_name], ' '),
	validates :last_name, format: { with: /\A[a-zA-Z]+\z/, message: "only allows letters" }  parent.table[:last_name])
end
end
